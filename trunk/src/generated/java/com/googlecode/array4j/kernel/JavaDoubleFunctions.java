package com.googlecode.array4j.kernel;

import java.nio.ByteBuffer;
import java.nio.DoubleBuffer;

import com.googlecode.array4j.ArrayFunctions;
import com.googlecode.array4j.DenseArray;

// TODO this code will be autogenerated at some point

public final class JavaDoubleFunctions implements ArrayFunctions {
    public void fill(final ByteBuffer data, final int length) {
        final DoubleBuffer buffer = data.asDoubleBuffer();
        final double start = buffer.get();
        final double delta = buffer.get();
        for (int i = 2; i < length; i++) {
            buffer.put(start + i * delta);
        }
    }

    public void setitem(final Object obj, final ByteBuffer data, final DenseArray arr) {
        final DoubleBuffer buffer = data.asDoubleBuffer();
        if (obj instanceof Number) {
            buffer.put(((Number) obj).doubleValue());
        } else {
            throw new UnsupportedOperationException();
        }
    }

    // TODO will probably keep the ufuncs here too
}
